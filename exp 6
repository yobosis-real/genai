from google.colab import output; output.enable_custom_widget_manager()

import google.generativeai as genai, ipywidgets as w
from IPython.display import display, Markdown

genai.configure(api_key="AIzaSyCgFcYAigEUSiA29Lwl4A254oLMkg-7_ro")
model = genai.GenerativeModel("gemini-2.5-flash-lite")

def review(code):
    return " No code." if not code.strip() else model.generate_content(
        f"Review this code:\n{code}"
    ).text

box = w.Textarea(placeholder="paste code here", layout=w.Layout(width="100%", height="180px"))
btn = w.Button(description="Review")
out = w.Output()

btn.on_click(lambda b: (out.clear_output(),
    out.append_display_data(Markdown("### Result:\n"+review(box.value)))))

display(box, btn, out)
